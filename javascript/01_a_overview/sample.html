<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
    </head>
    <body>
        <button type="button" onclick="scrivi()">Click Me!</button>
        <p id="demo"></p>
        <script>
            const DANTE =
                "nel mezzo del cammin di nostra vita, mi ritrovai per una selva oscura che la diritta via era smarrita.";

            function scrivi() {
                document.getElementById("demo").innerHTML =
                    "<h2>" + random_string() + "</h2>";
            }

            function random_string() {
                let splitted = DANTE.split(" ");
                let lensplitted = splitted.length;
                let middle = Math.round(lensplitted / 2);
                let a_new = splitted.slice(0, Math.random() * middle + middle);

                shuffle(a_new);
                random_background();
                return a_new.join(" ");
            }

            function random_3() {
                return Math.trunc(Math.random() * 3);
            }

            function random_background() {
                let c = ["FF", "77", "00"];

                //Math.trunc(Math.random() * 3);
                let extract = `#${c[random_3()]}${c[random_3()]}${
                    c[random_3()]
                }`;
                console.log(extract);
                document.body.style.background = extract;
            }

            function shuffle(array) {
                var currentIndex = array.length,
                    randomIndex;

                // While there remain elements to shuffle...
                while (currentIndex != 0) {
                    // Pick a remaining element...
                    randomIndex = Math.floor(Math.random() * currentIndex);
                    currentIndex--;

                    // And swap it with the current element.
                    [array[currentIndex], array[randomIndex]] = [
                        array[randomIndex],
                        array[currentIndex],
                    ];
                }

                return array;
            }
        </script>
    </body>
</html>
